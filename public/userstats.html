<html>

<head>
  <title>ðŸ¦Ž GAD | Statistics for Users</title>
  <link rel="icon" href="./data/icons/favicon.png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" crossorigin="anonymous" />
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700|Roboto" rel="stylesheet" />
  <link rel="stylesheet" href="css/controls.css" />
  <link rel="stylesheet" href="css/style.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <!-- https://sheetjs.com/ -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</head>

<body>
  <header>
    <div style="display: grid; grid-template-columns: 4fr 1fr" class="main-nav-menu">
      <h1 id="menu-main-gui" class="nav-menu"></h1>
    </div>
  </header>
  <div align="center" style="justify-content: center !important; display: flex; align-items: center">
    <div class="alert" role="alert" data-testid="alert-popup" id="alertPopup" style="position: unset !important; margin: 60px 0px 0px 0px"></div>
  </div>
  <div align="center">
    <div id="container"></div>
    Data Type:
    <a id="columnChart" href="./userstats.html"><button id="btnColumnChart" class="button-primary">Column Chart</button></a>
    <a id="pieChart" href="./userstats.html?type=pie"><button id="btnPieChart" class="button-primary">Pie Chart</button></a>
    <a id="table" href="./userstats.html?type=table"><button id="btnTableData" class="button-primary">Table</button></a>
    <br /><br />
    <table id="tableChart" style="visibility: hidden">
      <tr>
        <th style="width: 50%">Articles per User</th>
        <th style="width: 50%">Comments per User</th>
      </tr>
      <tr>
        <td>
          <br />
          <div id="articlesPerUserChart"></div>
        </td>
        <td>
          <br />
          <div id="commentsPerUserChart"></div>
        </td>
      </tr>
      <tr>
        <td>
          <div align="center">
            Download as:<br />
            <a id="downloadArticlesDataCsv"><button disabled id="btnDownloadArticlesDataCsv" class="button-primary">CSV</button></a>
            <a id="downloadArticlesDataJson"><button disabled id="btnDownloadArticlesDataJson" class="button-primary">JSON</button></a>
            <button onclick="generatePDF()" id="btnDownloadPdfArticlesData" class="button-primary" data-testid="download-pdf">
              PDF
            </button>
          </div>
        </td>
        <td>
          <div align="center">
            Download as:<br />
            <a id="downloadCommentsDataCsv"><button disabled id="btnDownloadCommentsDataCsv" class="button-primary">CSV</button></a>
            <a id="downloadCommentsDataJson"><button disabled id="btnDownloadCommentsDataJson" class="button-primary">JSON</button></a>
            <button onclick="generateChartPDF('user_stats.pdf')" id="btnDownloadPdfCommentsData" class="button-primary" data-testid="download-pdf">
              PDF
            </button>
          </div>
        </td>
      </tr>
    </table>

    <div id="tableArea" align="center" style="visibility: hidden">
      <table id="tableData">
        <tbody id="tableDataBody">
          <tr>
            <th style="width: 50%">User Name</th>
            <th style="width: 25%">Articles</th>
            <th style="width: 25%">Comments</th>
          </tr>
        </tbody>
      </table>
      <br />
      Download as:<br />
      <a id="downloadTableDataCsv"><button disabled id="btnDownloadTableDataCsv" class="button-primary">CSV</button></a>
      <a id="downloadTableDataJson"><button disabled id="btnDownloadTableDataJson" class="button-primary">JSON</button></a>
      <a id="downloadTableDataXlsx"><button disabled id="btnDownloadTableDataXlsx" class="button-primary">Xlsx</button></a>
    </div>
  </div>
</body>
<script src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript" src="js/common.js"></script>
<script type="text/javascript" src="js/helpers/reports.js"></script>
<script type="text/javascript" src="js/userstats.js"></script>
<script type="text/javascript" src="version.js"></script>
<script type="text/javascript" src="username.js"></script>
<script type="text/javascript" src="js/pdf-handler.js"></script>

</html>