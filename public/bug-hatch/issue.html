<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <link rel="icon" href="/data/icons/favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BugHatch ‚Äì Issue</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="/bug-hatch/css/bh-fallback.css">
</head>

<body class="bh-bg-dark bh-text-light bg-neutral-950 text-neutral-100">
    <div class="bh-demo-banner hidden flex items-center justify-between gap-3 px-4 py-2 text-sm border border-amber-500/30 bg-amber-500/10 text-amber-100" id="demo-banner">
        <span class="demo-banner-icon">üéØ</span>
        <div class="demo-banner-text">
            <strong>Demo Mode:</strong> Read-only preview. Create/edit actions are disabled.
        </div>
        <a href="/bug-hatch/signup.html" class="bh-demo-cta inline-flex items-center rounded-md border border-amber-500/40 px-3 py-1.5 text-amber-100 hover:bg-amber-500/10">Sign Up Free</a>
    </div>
    <nav class="bh-navbar px-4 py-3 sticky top-0 z-20 border-b border-neutral-800 bg-neutral-950/70 backdrop-blur">
        <div class="max-w-7xl mx-auto flex items-center justify-between">
            <a href="/" class="gad-link">ü¶é GAD</a>
            <a href="/bug-hatch/dashboard.html" class="bh-navbar-brand bh-brand-badge inline-flex items-center gap-2 text-lg font-semibold"><span class="bh-logo-icon text-2xl">üêõ</span><span>BugHatch</span></a>
            <div class="flex gap-2">
                <a href="/bug-hatch/issues.html" class="bh-btn bh-btn-ghost bh-btn-sm inline-flex items-center justify-center rounded-md text-sm font-medium text-neutral-200 hover:bg-neutral-800 px-2.5 py-1.5">Issues</a>
                <button id="logoutBtn" class="bh-btn bh-btn-danger bh-btn-sm inline-flex items-center justify-center rounded-md text-sm font-medium bg-red-600 hover:bg-red-500 text-white px-2.5 py-1.5">Logout</button>
            </div>
        </div>
    </nav>
    <main class="bh-max-w-screen bh-mx-auto bh-p-lg bh-flex bh-gap-lg max-w-7xl mx-auto px-4 py-6 flex gap-6">
        <section class="bh-flex-1 bh-min-w-0 flex-1 min-w-0">
            <div class="bh-card bh-card-glow bh-mb-md rounded-xl border border-neutral-800 bg-neutral-900/40 p-4 mb-4">
                <h1 id="issueTitle" class="bh-heading-section bh-mb-xs bh-text-md text-lg font-semibold mb-1">Loading...</h1>
                <div id="issueKey" class="bh-text-dim bh-text-xs text-neutral-400 text-[11px]"></div>
            </div>
            <div class="bh-card bh-card-glow bh-mb-md rounded-xl border border-neutral-800 bg-neutral-900/40 p-4 mb-4" id="issueMetaCard">
                <h2 class="bh-heading-section bh-text-sm bh-mb-sm text-sm font-semibold mb-2">Details</h2>
                <form id="issueEditForm" class="bh-stack bh-gap-sm bh-text-xs flex flex-col space-y-2 text-xs">
                    <label class="bh-field space-y-1"><span class="bh-label block text-xs font-medium text-neutral-300 mb-1">Title</span><input id="fieldTitle" class="bh-input block w-full rounded-md border border-neutral-700 bg-neutral-900 px-3 py-2 text-sm text-neutral-100 placeholder-neutral-500 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/40 outline-none" required minlength="3" /></label>
                    <label class="bh-field space-y-1"><span class="bh-label block text-xs font-medium text-neutral-300 mb-1">Type</span>
                        <select id="fieldType" class="bh-input block w-full rounded-md border border-neutral-700 bg-neutral-900 px-3 py-2 text-sm text-neutral-100 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/40 outline-none">
                            <option value="task">Task</option>
                            <option value="bug">Bug</option>
                            <option value="story">Story</option>
                        </select>
                    </label>
                    <label class="bh-field space-y-1"><span class="bh-label block text-xs font-medium text-neutral-300 mb-1">Priority</span>
                        <select id="fieldPriority" class="bh-input block w-full rounded-md border border-neutral-700 bg-neutral-900 px-3 py-2 text-sm text-neutral-100 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/40 outline-none">
                            <option value="low">Low</option>
                            <option value="medium">Medium</option>
                            <option value="high">High</option>
                        </select>
                    </label>
                    <label class="bh-field space-y-1"><span class="bh-label block text-xs font-medium text-neutral-300 mb-1">Assignee</span>
                        <select id="fieldAssignee" class="bh-input block w-full rounded-md border border-neutral-700 bg-neutral-900 px-3 py-2 text-sm text-neutral-100 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/40 outline-none">
                            <option value="">Unassigned</option>
                        </select>
                    </label>
                    <label class="bh-field space-y-1"><span class="bh-label block text-xs font-medium text-neutral-300 mb-1">Labels (comma)</span><input id="fieldLabels" class="bh-input block w-full rounded-md border border-neutral-700 bg-neutral-900 px-3 py-2 text-sm text-neutral-100 placeholder-neutral-500 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/40 outline-none" /></label>
                    <label class="bh-field space-y-1"><span class="bh-label block text-xs font-medium text-neutral-300 mb-1">Description</span><textarea id="fieldDescription" class="bh-input block w-full rounded-md border border-neutral-700 bg-neutral-900 px-3 py-2 text-sm text-neutral-100 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/40 outline-none" rows="6"></textarea></label>
                    <div id="editError" class="bh-alert bh-alert-error bh-hidden rounded-md border border-red-500/40 bg-red-500/10 text-red-200 text-sm px-3 py-2" style="display:none;"></div>
                    <div class="bh-flex bh-gap-sm bh-justify-end flex items-center justify-end gap-2">
                        <button type="submit" class="bh-btn bh-btn-primary bh-btn-xs inline-flex items-center justify-center rounded-md text-xs font-medium bg-emerald-500 text-neutral-900 hover:bg-emerald-600 px-2 py-1">Save</button>
                    </div>
                </form>
            </div>
            <div class="bh-card bh-card-glow rounded-xl border border-neutral-800 bg-neutral-900/40 p-4" id="transitionsCard">
                <h2 class="bh-heading-section bh-text-sm bh-mb-sm text-sm font-semibold mb-2">Status & Transitions</h2>
                <div class="bh-flex bh-gap-sm bh-items-center bh-mb-sm flex items-center gap-2 mb-2">
                    <span class="bh-badge inline-flex items-center rounded-full border border-neutral-700/60 bg-neutral-900/60 px-2 py-0.5 text-xs text-neutral-300" id="currentStatus">‚Äî</span>
                    <div id="transitionButtons" class="bh-flex bh-gap-xs flex gap-1"></div>
                </div>
                <div id="transitionError" class="bh-alert bh-alert-error bh-hidden rounded-md border border-red-500/40 bg-red-500/10 text-red-200 text-sm px-3 py-2" style="display:none;"></div>
            </div>
        </section>
        <aside class="bh-w-80 bh-min-w-0 w-80 min-w-0">
            <div class="bh-card bh-card-glow bh-mb-md rounded-xl border border-neutral-800 bg-neutral-900/40 p-4 mb-4" id="activityCard">
                <h2 class="bh-heading-section bh-text-sm bh-mb-sm text-sm font-semibold mb-2 flex items-center justify-between">
                    <span>Activity</span>
                    <button id="activityToggle" class="bh-btn bh-btn-ghost bh-btn-2xs text-neutral-400 hover:text-neutral-200 text-xs">‚ñº</button>
                </h2>
                <div id="activityFeed" class="bh-stack bh-gap-sm flex flex-col space-y-2 max-h-96 overflow-y-auto" style="display: none;"></div>
            </div>
            <div class="bh-card bh-card-glow rounded-xl border border-neutral-800 bg-neutral-900/40 p-4" id="commentsCard">
                <h2 class="bh-heading-section bh-text-sm bh-mb-sm text-sm font-semibold mb-2">Comments</h2>
                <div id="commentsList" class="bh-stack bh-gap-sm bh-mb-sm flex flex-col space-y-2 mb-2 max-h-96 overflow-y-auto"></div>
                <form id="commentForm" class="bh-stack bh-gap-sm flex flex-col space-y-2">
                    <textarea id="commentBody" class="bh-input block w-full rounded-md border border-neutral-700 bg-neutral-900 px-3 py-2 text-sm text-neutral-100 placeholder-neutral-500 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/40 outline-none resize-none" rows="3" placeholder="Add a comment..." required></textarea>
                    <div class="bh-flex bh-justify-end flex justify-end">
                        <button type="submit" class="bh-btn bh-btn-primary bh-btn-xs inline-flex items-center justify-center rounded-md text-xs font-medium bg-emerald-500 text-neutral-900 hover:bg-emerald-600 px-2 py-1">Comment</button>
                    </div>
                </form>
            </div>
        </aside>
    </main>

    <script src="/bug-hatch/js/auth.js"></script>
    <script src="/bug-hatch/js/demo-propagate.js"></script>
    <script src="/bug-hatch/js/activity-renderer.js"></script>
    <script src="/bug-hatch/js/comments-renderer.js"></script>
    <script src="/bug-hatch/js/issue-detail.js"></script>
</body>

</html>