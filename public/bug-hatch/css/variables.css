/* =====================================================================
   BugHatch Design Tokens (Revamped Theme System)
   Futuristic • Modern • Fancy • Compact • Accessible
   Layers:
     1. Primitive palette (base hues & neutrals)
     2. Semantic roles (bg, surface, border, text, brand, states)
     3. Component tokens (button, card, input, focus, elevations)
     4. Modes (dark default, light, contrast) via [data-theme]
     5. Motion & density scales
   Notes:
     - Prefer semantic aliases in components; avoid raw hex in components.
     - All brand gradients centralized for consistency.
     - Keep contrast >= WCAG AA for body text; interactive focus uses dual outline + glow.
====================================================================== */

:root {
  /* ---------- 1. Primitive Palette (Dark Base Default) ---------- */
  /* Neutral ladder - fine-grained for elevation & borders */
  --bh-neutral-25: #090b0e;
  --bh-neutral-50: #0d1014;
  --bh-neutral-75: #12161b;
  --bh-neutral-100: #161b21;
  --bh-neutral-150: #1b2128;
  --bh-neutral-200: #202831;
  --bh-neutral-250: #24303a;
  --bh-neutral-300: #2b3742;
  --bh-neutral-400: #36434f;
  --bh-neutral-500: #45525f;
  --bh-neutral-600: #596574;
  --bh-neutral-700: #6f7c8a;
  --bh-neutral-800: #88949f;
  --bh-neutral-900: #aeb6bd;
  --bh-neutral-950: #d8dde1;

  /* Brand & Accents core hues */
  --bh-hue-primary: 234; /* indigo/blue-violet */
  --bh-hue-accent: 280; /* magenta accent pivot */
  --bh-hue-cyan: 190;
  --bh-hue-green: 158;
  --bh-hue-amber: 36;
  --bh-hue-error: 352;

  /* Derived brand colors (HSL for manipulability) */
  --bh-color-primary: hsl(var(--bh-hue-primary) 100% 65%);
  --bh-color-primary-hover: hsl(var(--bh-hue-primary) 95% 72%);
  --bh-color-primary-active: hsl(var(--bh-hue-primary) 90% 58%);
  --bh-color-primary-glow-hsl: var(--bh-hue-primary) 100% 64%;
  --bh-color-accent: hsl(var(--bh-hue-accent) 100% 63%);
  --bh-color-accent-cyan: hsl(var(--bh-hue-cyan) 90% 56%);
  --bh-color-accent-green: hsl(var(--bh-hue-green) 70% 48%);
  --bh-color-accent-amber: hsl(var(--bh-hue-amber) 100% 60%);
  --bh-color-accent-pink: #ff3fa4;

  /* ---------- 2. Semantic Color Roles ---------- */
  --bh-color-bg: var(--bh-neutral-50);
  --bh-color-bg-alt: var(--bh-neutral-75);
  --bh-color-surface: var(--bh-neutral-100);
  --bh-color-surface-alt: var(--bh-neutral-150);
  --bh-color-surface-muted: var(--bh-neutral-75);
  --bh-color-surface-glass: rgba(255, 255, 255, 0.05);
  --bh-color-border: var(--bh-neutral-300);
  --bh-color-border-accent: var(--bh-neutral-400);
  --bh-color-border-strong: var(--bh-neutral-500);

  --bh-color-text: #f2f6fb;
  --bh-color-text-dim: #c2cbd4;
  --bh-color-text-muted: #89939d;
  --bh-color-text-inverse: #0d1014;
  --bh-color-link: var(--bh-color-primary);
  --bh-color-link-hover: var(--bh-color-primary-hover);
  --bh-color-inline-code: var(--bh-color-accent-amber);

  /* Selection & focus */
  --bh-color-selection-bg: hsla(var(--bh-color-primary-glow-hsl) / 0.35);
  --bh-color-selection-text: #fff;
  --bh-color-focus-ring: hsla(var(--bh-color-primary-glow-hsl) / 0.55);
  --bh-color-focus-outline: var(--bh-color-primary);

  /* Status / Feedback */
  --bh-color-success-bg: #0d271b;
  --bh-color-success-border: #1f8a52;
  --bh-color-success-text: #46e39d;
  --bh-color-error-bg: #2a1215;
  --bh-color-error-border: #d14b55;
  --bh-color-error-text: #ff8690;
  --bh-color-warning-bg: #2c220b;
  --bh-color-warning-border: #c28a19;
  --bh-color-warning-text: #ffca55;
  --bh-color-info-bg: #112736;
  --bh-color-info-border: #2277ad;
  --bh-color-info-text: #6bc2ff;

  /* Backwards compatible status aliases */
  --bh-status-success-bg: var(--bh-color-success-bg);
  --bh-status-success-border: var(--bh-color-success-border);
  --bh-status-success-text: var(--bh-color-success-text);
  --bh-status-error-bg: var(--bh-color-error-bg);
  --bh-status-error-border: var(--bh-color-error-border);
  --bh-status-error-text: var(--bh-color-error-text);
  --bh-status-warning-bg: var(--bh-color-warning-bg);
  --bh-status-warning-border: var(--bh-color-warning-border);
  --bh-status-warning-text: var(--bh-color-warning-text);
  --bh-status-info-bg: var(--bh-color-info-bg);
  --bh-status-info-border: var(--bh-color-info-border);
  --bh-status-info-text: var(--bh-color-info-text);

  /* ---------- 3. Gradients & Visual Effects ---------- */
  --bh-gradient-primary: linear-gradient(
    135deg,
    hsl(var(--bh-hue-primary) 100% 66%),
    hsl(var(--bh-hue-accent) 100% 63%),
    #ff3fa4
  );
  --bh-gradient-accent: linear-gradient(
    135deg,
    var(--bh-color-accent-cyan),
    var(--bh-color-primary),
    var(--bh-color-accent)
  );
  --bh-gradient-success: linear-gradient(135deg, var(--bh-color-accent-green), var(--bh-color-accent-cyan));
  --bh-gradient-danger: linear-gradient(135deg, #ff3fa4, #ff6b6b);
  --bh-gradient-warning: linear-gradient(135deg, var(--bh-color-accent-amber), #ff8f3f);
  --bh-gradient-surface: linear-gradient(145deg, var(--bh-neutral-100), var(--bh-neutral-150));
  --bh-gradient-glow-ring: conic-gradient(
    from 180deg at 50% 50%,
    var(--bh-color-primary),
    var(--bh-color-accent),
    #ff3fa4,
    var(--bh-color-primary)
  );
  --bh-gradient-accent-fade: radial-gradient(circle at 30% 20%, rgba(143, 93, 255, 0.15), transparent 60%),
    radial-gradient(circle at 70% 80%, rgba(255, 63, 164, 0.12), transparent 65%);

  /* Elevation overlays (used for layered surfaces) */
  --bh-elevation-overlay-1: rgba(255, 255, 255, 0.02);
  --bh-elevation-overlay-2: rgba(255, 255, 255, 0.04);
  --bh-elevation-overlay-3: rgba(255, 255, 255, 0.06);

  /* ---------- 4. Spacing / Sizing / Layout ---------- */
  --bh-space-3xs: 0.075rem;
  --bh-space-2xs: 0.125rem;
  --bh-space-xs: 0.25rem;
  --bh-space-sm: 0.5rem;
  --bh-space-md: 0.75rem;
  --bh-space-lg: 1rem;
  --bh-space-xl: 1.5rem;
  --bh-space-2xl: 2rem;
  --bh-space-3xl: 3rem;
  --bh-space-4xl: 4rem;

  --bh-container-max: 1280px;
  --bh-content-max: 860px;
  --bh-grid-gutter: var(--bh-space-lg);

  /* ---------- 5. Radii & Shape ---------- */
  --bh-radius-xs: 3px;
  --bh-radius-sm: 6px;
  --bh-radius-md: 10px;
  --bh-radius-lg: 16px;
  --bh-radius-xl: 22px;
  --bh-radius-2xl: 30px;
  --bh-radius-pill: 999px;

  /* ---------- 6. Elevation & Shadows ---------- */
  --bh-shadow-color: 220 40% 2%;
  --bh-shadow-sm: 0 1px 2px -1px hsl(var(--bh-shadow-color) / 0.5), 0 0 0 1px hsl(var(--bh-shadow-color) / 0.25);
  --bh-shadow-md: 0 4px 14px -2px hsl(var(--bh-shadow-color) / 0.55), 0 0 0 1px hsl(var(--bh-shadow-color) / 0.3);
  --bh-shadow-lg: 0 10px 34px -6px hsl(var(--bh-shadow-color) / 0.6), 0 0 0 1px hsl(var(--bh-shadow-color) / 0.35);
  --bh-ring-focus: 0 0 0 3px var(--bh-color-focus-ring), 0 0 0 1.5px var(--bh-color-focus-outline);

  /* ---------- 7. Typography ---------- */
  --bh-font-sans: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,
    "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  --bh-font-mono: "JetBrains Mono", ui-monospace, SFMono-Regular, "Cascadia Code", Menlo, Consolas, monospace;

  --bh-text-2xs: 0.65rem;
  --bh-text-xs: 0.75rem;
  --bh-text-sm: 0.85rem;
  --bh-text-base: 0.95rem;
  --bh-text-md: 1.05rem;
  --bh-text-lg: 1.25rem;
  --bh-text-xl: 1.5rem;
  --bh-text-2xl: 1.85rem;
  --bh-text-3xl: 2.25rem;
  --bh-text-display: clamp(2.5rem, 6vw, 3.5rem);

  --bh-line-tight: 1.15;
  --bh-line-snug: 1.3;
  --bh-line-normal: 1.45;

  /* ---------- 8. Motion & Timing ---------- */
  --bh-ease-out: cubic-bezier(0.16, 0.84, 0.44, 1);
  --bh-ease-in: cubic-bezier(0.45, 0.05, 0.55, 0.95);
  --bh-ease-spring: cubic-bezier(0.16, 1, 0.3, 1);
  --bh-duration-1: 90ms;
  --bh-duration-2: 160ms;
  --bh-duration-3: 260ms;
  --bh-duration-4: 420ms;
  --bh-duration-slow: 640ms;

  /* Reduced motion fallback ring */
  --bh-focus-outline: 2px solid var(--bh-color-primary);
  --bh-focus-ring: 0 0 0 3px hsla(var(--bh-color-primary-glow-hsl) / 0.45);

  /* ---------- 9. Backdrop Filters ---------- */
  --bh-backdrop-strong: saturate(140%) blur(18px);
  --bh-backdrop-soft: saturate(120%) blur(10px);

  /* ---------- 10. Z-Layers ---------- */
  --bh-z-dropdown: 40;
  --bh-z-sticky: 50;
  --bh-z-modal: 100;
  --bh-z-toast: 110;
  --bh-z-overlay: 120;

  /* ---------- 11. Component Tokens (Base) ---------- */
  --bh-btn-bg: var(--bh-color-primary);
  --bh-btn-bg-hover: var(--bh-color-primary-hover);
  --bh-btn-bg-active: var(--bh-color-primary-active);
  --bh-btn-text: #fff;
  --bh-btn-radius: var(--bh-radius-md);
  --bh-btn-shadow: var(--bh-shadow-sm);
  --bh-input-bg: var(--bh-color-surface-alt);
  --bh-input-border: var(--bh-color-border);
  --bh-input-border-focus: var(--bh-color-primary);
  --bh-input-shadow-focus: 0 0 0 3px hsla(var(--bh-color-primary-glow-hsl) / 0.35);
  --bh-card-bg: var(--bh-color-surface);
  --bh-card-border: var(--bh-color-border);
  --bh-card-shadow: var(--bh-shadow-md);
  --bh-badge-bg: var(--bh-color-surface-alt);
  --bh-badge-text: var(--bh-color-text-dim);
  --bh-badge-radius: var(--bh-radius-pill);
  --bh-nav-height: 54px;
}

/* Light Theme Override */
[data-theme="light"] {
  --bh-color-bg: #f5f7fa;
  --bh-color-bg-alt: #edf1f5;
  --bh-color-surface: #ffffff;
  --bh-color-surface-alt: #f2f5f9;
  --bh-color-surface-muted: #f6f8fa;
  --bh-color-surface-glass: rgba(0, 0, 0, 0.04);
  --bh-color-border: #d9e1ea;
  --bh-color-border-accent: #c1ccd7;
  --bh-color-border-strong: #a4b0bc;
  --bh-color-text: #1e252c;
  --bh-color-text-dim: #495561;
  --bh-color-text-muted: #6a7786;
  --bh-color-text-inverse: #ffffff;
  --bh-color-primary: hsl(var(--bh-hue-primary) 85% 55%);
  --bh-color-primary-hover: hsl(var(--bh-hue-primary) 95% 50%);
  --bh-color-primary-active: hsl(var(--bh-hue-primary) 90% 45%);
  --bh-gradient-surface: linear-gradient(145deg, #ffffff 0%, #edf1f5 100%);
  --bh-gradient-primary: linear-gradient(
    135deg,
    hsl(var(--bh-hue-primary) 85% 56%),
    hsl(var(--bh-hue-accent) 85% 58%),
    #ff3fa4
  );
  --bh-gradient-accent: linear-gradient(135deg, #06b6d4, hsl(var(--bh-hue-primary) 85% 60%), #ff3fa4);
  --bh-color-success-bg: #e6f9f0;
  --bh-color-success-border: #27a467;
  --bh-color-success-text: #126d42;
  --bh-color-error-bg: #ffe9eb;
  --bh-color-error-border: #e86a74;
  --bh-color-error-text: #91212a;
  --bh-color-warning-bg: #fff5e1;
  --bh-color-warning-border: #e8b24d;
  --bh-color-warning-text: #8a5a00;
  --bh-color-info-bg: #e3f4ff;
  --bh-color-info-border: #58aee8;
  --bh-color-info-text: #0d4870;
  --bh-btn-bg: var(--bh-color-primary);
  --bh-btn-bg-hover: var(--bh-color-primary-hover);
  --bh-btn-bg-active: var(--bh-color-primary-active);
  --bh-input-bg: var(--bh-color-surface-alt);
  --bh-card-bg: var(--bh-color-surface);
}

/* High Contrast Theme */
[data-theme="contrast"] {
  --bh-color-bg: #000000;
  --bh-color-bg-alt: #07090b;
  --bh-color-surface: #0b0e11;
  --bh-color-surface-alt: #14181d;
  --bh-color-surface-muted: #101419;
  --bh-color-surface-glass: rgba(255, 255, 255, 0.18);
  --bh-color-border: #5a5a5a;
  --bh-color-border-accent: #7c7c7c;
  --bh-color-border-strong: #aaaaaa;
  --bh-color-text: #ffffff;
  --bh-color-text-dim: #f0f0f0;
  --bh-color-text-muted: #d4d4d4;
  --bh-color-primary: #00b2ff;
  --bh-color-primary-hover: #3cc8ff;
  --bh-color-primary-active: #0095d4;
  --bh-color-focus-outline: #ffffff;
  --bh-color-focus-ring: rgba(255, 255, 255, 0.75);
  --bh-gradient-primary: linear-gradient(135deg, #00b2ff, #66d7ff 55%, #ffffff 100%);
  --bh-gradient-accent: linear-gradient(135deg, #ffffff, #00b2ff 55%, #66d7ff 100%);
  --bh-gradient-surface: linear-gradient(145deg, #0b0e11 0%, #14181d 100%);
  --bh-btn-bg: var(--bh-color-primary);
  --bh-btn-bg-hover: var(--bh-color-primary-hover);
  --bh-btn-bg-active: var(--bh-color-primary-active);
  --bh-input-bg: var(--bh-color-surface-alt);
  --bh-card-bg: var(--bh-color-surface);
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
  :root {
    --bh-duration-1: 0ms;
    --bh-duration-2: 0ms;
    --bh-duration-3: 0ms;
    --bh-duration-4: 0ms;
    --bh-duration-slow: 0ms;
  }
  .bh-animate,
  [class*="bh-animate-"] {
    animation: none !important;
    transition: none !important;
  }
}
